{
  "kind": "build_request",
  "title": "Add Session Management UI: Download Transcript & Clear Boardroom",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "In frontend/src/hooks/useQueries.ts, add a new mutation hook named useClearBoardroom that calls actor.clearBoardroom() and invalidates the ['debateStatus'] query on success",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Add the Hook: Open frontend/src/hooks/useQueries.ts. Add a new mutation called useClearBoardroom. It should call actor.clearBoardroom() and on success, invalidate the ['debateStatus'] query."
        ]
      },
      "acceptanceCriteria": [
        "useClearBoardroom mutation hook is exported from useQueries.ts",
        "Calls actor.clearBoardroom() when invoked",
        "Invalidates ['debateStatus'] query on successful completion"
      ]
    },
    {
      "id": "REQ-2",
      "text": "In frontend/src/App.tsx, import Download and Trash2 icons from lucide-react",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Import Download and Trash2 from lucide-react at the top."
        ]
      },
      "acceptanceCriteria": [
        "Download icon is imported from lucide-react",
        "Trash2 icon is imported from lucide-react"
      ]
    },
    {
      "id": "REQ-3",
      "text": "In frontend/src/App.tsx BoardroomTab component, initialize the useClearBoardroom hook",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Inside the BoardroomTab component, import and initialize useClearBoardroom."
        ]
      },
      "acceptanceCriteria": [
        "useClearBoardroom hook is called inside BoardroomTab component",
        "clearBoardroom mutation instance is available for use"
      ]
    },
    {
      "id": "REQ-4",
      "text": "In frontend/src/App.tsx BoardroomTab component, add a handleDownloadTranscript helper function that checks if debateState?.transcript exists, creates a Blob with the transcript text, and triggers a programmatic download of boardroom-archive.txt",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Add a helper function inside BoardroomTab called handleDownloadTranscript. It should check if debateState?.transcript exists, create a new Blob with the text, and trigger a programmatic download of a file named boardroom-archive.txt."
        ]
      },
      "acceptanceCriteria": [
        "handleDownloadTranscript function is defined inside BoardroomTab",
        "Function checks for debateState?.transcript existence",
        "Creates a Blob from transcript text",
        "Triggers browser download with filename boardroom-archive.txt"
      ]
    },
    {
      "id": "REQ-5",
      "text": "In frontend/src/App.tsx BoardroomTab component, change the action cards grid layout from 'md:grid-cols-2' to 'md:grid-cols-3'",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Change the action cards grid layout from <div className=\"grid gap-6 md:grid-cols-2\"> to <div className=\"grid gap-6 md:grid-cols-3\">."
        ]
      },
      "acceptanceCriteria": [
        "Action cards grid uses 'md:grid-cols-3' class instead of 'md:grid-cols-2'"
      ]
    },
    {
      "id": "REQ-6",
      "text": "In frontend/src/App.tsx BoardroomTab component, add a third Card component titled 'Session Management' with a brief description",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Add a third <Card> titled \"Session Management\". Give it a brief description."
        ]
      },
      "acceptanceCriteria": [
        "Third Card component is added to the action cards grid",
        "Card title is 'Session Management'",
        "Card includes a descriptive text about session management functionality"
      ]
    },
    {
      "id": "REQ-7",
      "text": "Inside the Session Management Card's CardContent, add a flex container (flex flex-col gap-2) with two buttons: 'Download Archive' button (variant='outline', Download icon, calls handleDownloadTranscript) and 'Clear Boardroom' button (variant='destructive', Trash2 icon, calls clearBoardroom.mutate(), disabled when clearBoardroom.isPending is true)",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Inside its <CardContent>, add a flex flex-col gap-2 container with two buttons: Button 1: \"Download Archive\" (calls handleDownloadTranscript, uses the Download icon, variant=\"outline\"). Button 2: \"Clear Boardroom\" (calls clearBoardroom.mutate(), uses the Trash2 icon, variant=\"destructive\"). Disable this if clearBoardroom.isPending is true."
        ]
      },
      "acceptanceCriteria": [
        "CardContent contains a flex flex-col gap-2 container",
        "Download Archive button uses outline variant and Download icon",
        "Download Archive button calls handleDownloadTranscript on click",
        "Clear Boardroom button uses destructive variant and Trash2 icon",
        "Clear Boardroom button calls clearBoardroom.mutate() on click",
        "Clear Boardroom button is disabled when clearBoardroom.isPending is true"
      ]
    }
  ],
  "constraints": [
    "Do not modify the backend clearBoardroom function implementation",
    "Maintain existing hook ordering in BoardroomTab to prevent conditional hook calls",
    "Follow the existing UI patterns and component structure in App.tsx"
  ],
  "nonGoals": [
    "Implementing backend changes for clearBoardroom",
    "Adding additional session management features beyond download and clear",
    "Modifying the transcript format or structure"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}