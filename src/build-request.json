{
  "kind": "build_request",
  "title": "Remove cross-canister calls and stub debate function with hardcoded responses",
  "projectName": "The Gang",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-136",
      "text": "In backend/main.mo, locate the start_boardroom_debate update function and completely remove all cross-canister call logic including any await agent.askAgent(...) calls, Actor lookups, and Principal ID references to external agent canisters",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-critical-fix"
        ],
        "quotes": [
          "completely remove any await agent.askAgent(...) or similar cross-canister messaging logic from start_boardroom_debate"
        ]
      },
      "acceptanceCriteria": [
        "No await statements calling external agent actors exist in start_boardroom_debate",
        "No Actor.createActor or Principal ID lookups occur in the function",
        "Function compiles without IC0536 errors"
      ]
    },
    {
      "id": "REQ-137",
      "text": "In backend/main.mo, refactor start_boardroom_debate to accept the user's prompt parameter and return a single hardcoded Text string that simulates a multi-agent debate transcript with format: 'User: [prompt]\\n\\nSkippy: This is a stubbed response for Skippy.\\n\\nGLaDOS: This is a stubbed response for GLaDOS.\\n\\nRobby: This is a stubbed response for Robby.'",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-critical-fix"
        ],
        "quotes": [
          "return \"User: \" # prompt # \"\\n\\nSkippy: This is a stubbed response for Skippy.\\n\\nGLaDOS: This is a stubbed response for GLaDOS.\\n\\nRobby: This is a stubbed response for Robby.\""
        ]
      },
      "acceptanceCriteria": [
        "Function returns a Text string containing the user's prompt prefixed with 'User: '",
        "Hardcoded responses for Skippy, GLaDOS, and Robby are included in the output",
        "Each agent response is separated by newlines for readability",
        "No actual LLM calls or external data fetching occurs"
      ]
    },
    {
      "id": "REQ-138",
      "text": "In backend/main.mo, ensure start_boardroom_debate updates current_state.transcript with the hardcoded mock transcript string before returning, and sets current_state.is_debating to false at the end of execution",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-critical-fix"
        ],
        "quotes": [
          "Just return the hardcoded text string back to the React frontend so we can verify the UI state transitions cleanly"
        ]
      },
      "acceptanceCriteria": [
        "current_state.transcript contains the full hardcoded debate output",
        "current_state.is_debating is set to false after function completes",
        "Frontend polling via get_status receives the updated transcript"
      ]
    },
    {
      "id": "REQ-139",
      "text": "In backend/main.mo, remove all Agent Registry lookups for is_enabled checks in start_boardroom_debate since we are stubbing the debate with hardcoded responses and not routing to real agents",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-critical-fix"
        ],
        "quotes": [
          "Do not lookup Canister IDs, do not use Actors for the agents"
        ]
      },
      "acceptanceCriteria": [
        "No agent.is_enabled checks occur in start_boardroom_debate",
        "Function executes without querying the Agent Registry",
        "Hardcoded responses are returned unconditionally"
      ]
    }
  ],
  "constraints": [
    "Do not modify frontend files - this is a backend-only fix",
    "Preserve the function signature of start_boardroom_debate to maintain frontend compatibility",
    "Keep the DebateState data structure unchanged",
    "Maintain the get_status query function for frontend polling"
  ],
  "nonGoals": [
    "Implementing real LLM agent routing",
    "Initializing Principal IDs for external agents",
    "Creating cross-canister communication infrastructure",
    "Building dynamic debate routing logic",
    "Integrating with external AI services"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}